function getCookie(name){const cookies=`; ${document.cookie}`.split(`; ${name}=`);return cookies.length===2?decodeURIComponent(cookies.pop().split(";").shift()):null}function setCookie(name,value,days){let expires="";if(days){const date=new Date;date.setTime(date.getTime()+days*24*60*60*1e3),expires=`; expires=${date.toUTCString()}`}document.cookie=`${encodeURIComponent(name)}=${encodeURIComponent(value)}${expires}; path=/; SameSite=None; Secure`}function batchArray(arr,size){const batchedArray=[];for(let i=0;i<arr.length;i+=size)batchedArray.push(arr.slice(i,i+size));return batchedArray}//! FAVORITES
class AddFavorite extends HTMLElement{constructor(){super(),this.productHandle=this.dataset.productHandle,this.addEventListener("click",this.handleClick.bind(this)),this.updateColor()}get favorites(){const valueCookie=getCookie("favorites");let favorites=[];if(valueCookie){const cookieParsed=JSON.parse(valueCookie);Array.isArray(cookieParsed)&&(favorites=cookieParsed)}return favorites}get isFavorite(){return this.favorites.includes(this.productHandle)}handleClick(){this.isFavorite?this.removeFavorite():this.addFavorite(),this.updateColor()}removeFavorite(){const newFavorites=this.favorites.filter(productHandle=>productHandle!==this.productHandle);setCookie("favorites",JSON.stringify(newFavorites))}addFavorite(){const newFavorites=[...this.favorites,this.productHandle];setCookie("favorites",JSON.stringify(newFavorites))}updateColor(){this.classList.toggle("heart-filled",this.isFavorite)}}customElements.define("add-favorite",AddFavorite),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".main-nav-scroller [data-link-handle]").forEach(toggleEl=>toggleEl.addEventListener("click",handleNavScrollerClick));const mainMenu=document.querySelector("main-menu");function handleNavScrollerClick(e){const toggleEl=e.currentTarget;console.debug("toggled",toggleEl);const currentDetails=toggleEl.closest("details.is-open"),newDetails=document.querySelector(`details[data-link-handle="${toggleEl.dataset.linkHandle}"]`);MainMenu.open(newDetails),mainMenu.close(currentDetails),console.log({currentDetails,newDetails})}const products=document.querySelectorAll(".image-with-products .products-container .card--product"),productsContainer=document.querySelector("#main-content .products-container");window.innerWidth<=1760&&products.length>=2&&(products[products.length-1].style.display="none",products[products.length-2].style.display="none"),window.innerWidth>1760&&(productsContainer.style.gridTemplateColumns="repeat(3, minmax(0, 1fr))"),window.addEventListener("resize",()=>{window.innerWidth<=1760&&(products.length>=2&&(products[products.length-1].style.display="none",products[products.length-2].style.display="none"),productsContainer.style.gridTemplateColumns="repeat(2, minmax(0, 1fr))"),window.innerWidth>1760&&(products.length>=2&&(products[products.length-1].style.display="flex",products[products.length-2].style.display="flex"),productsContainer.style.gridTemplateColumns="repeat(3, minmax(0, 1fr))")})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[toggle-open]").forEach(el=>el.addEventListener("click",event=>{const selection=window.getSelection(),selectedTextParent=selection.anchorNode&&selection.anchorNode.parentNode;if(!(selectedTextParent&&el.contains(selectedTextParent)&&selection.toString().length>0))return el.hasAttribute("open")?el.removeAttribute("open"):el.setAttribute("open","")}));const nameLastname=document.querySelector("#nombre-y-apellido_text"),checkbox=document.querySelector("input#nombre-y-apellido"),error=document.querySelector("#personalization-error");nameLastname&&nameLastname.addEventListener("input",()=>{error&&(error.style.display="none")}),checkbox?.addEventListener("change",function(){this.checked||error&&(error.style.display="none")})});
//# sourceMappingURL=/cdn/shop/t/33/assets/custom.js.map?v=89609298525367889731719502666
